{%- liquid
  assign current_variant = product.selected_or_first_available_variant
  assign zoom_size = 'master'
  assign min_aspect_ratio = 0.6

  if template contains 'lightbox'
    assign in_lightbox = true
    assign show_description = settings.qb_show_description
  else
    assign in_lightbox = false
    assign show_description = true
  endif
-%}

<div data-section-type="product-template" data-components="accordion">
  {% if in_lightbox == false %}
    <div class="container desktop-only" {% unless in_lightbox %}data-cc-animate data-cc-animate-delay="0.2s"{% endunless %}>
      <div class="page-header">
        {% render 'breadcrumbs', show_next_prev: true %}
      </div>
    </div>
  {%- endif -%}

  <div class="product-detail spaced-row container">
    <div class="gallery gallery-layout-{{ section.settings.prod_gall_thumbs_under }} gallery-size-{{ section.settings.gallery_size }} product-column-left {% if product.media.size > 1 %}has-thumbnails{% endif %}" {% unless in_lightbox %}data-cc-animate data-cc-animate-delay="0.2s"{% endunless %}>
      <div class="gallery__inner{% if section.settings.enable_sticky_gallery %} sticky-content-container{% endif %}">
        <div class="main-image">
          {%- assign featured_media = product.selected_or_first_available_variant.featured_media | default: product.featured_media -%}
          {%- for media in product.media -%}
            {%- if media.id == featured_media.id -%}
              {%- assign initial_slide = forloop.index0 -%}
              {%- break -%}
            {%- endif -%}
          {%- endfor -%}
          <div class="slideshow product-slideshow slideshow--custom-initial" data-slick='{"adaptiveHeight":true,"initialSlide":{{initial_slide}}}'>
            {%- for media in product.media -%}
              <div class="slide{% if forloop.index0 == initial_slide %} slide--custom-initial{% endif %}" data-media-id="{{ media.id }}">
                {%- if media.media_type == 'image' and section.settings.enable_zoom -%}<a class="show-gallery" href="{{ media.preview_image | img_url: zoom_size }}">{%- endif -%}
                  {%- render 'media', media: media, min_aspect_ratio: min_aspect_ratio -%}
                {%- if media.media_type == 'image' and section.settings.enable_zoom -%}</a>{%- endif -%}
              </div>
            {%- endfor -%}
          </div>

          {%- if in_lightbox == false -%}
            {%- assign models = product.media | where: 'media_type', 'model' -%}
            {% if models.size > 0 %}
              <script type="application/json" class="model-json">
                {{- product.media | where: 'media_type', 'model' | json -}}
              </script>
              <button
                class="view-in-space"
                data-shopify-xr
                data-shopify-model3d-id="{{ models.first.id }}"
                data-shopify-title="{{ product.title | escape }}"
                data-shopify-xr-hidden>
                {%- render 'icon-3d-badge-full-color' -%}
                <span class="view-in-space__text">{{ 'products.product.view_in_space' | t }}</span>
              </button>
            {% endif %}
          {%- endif -%}

          <div class="slideshow-controls">
              <div class="slideshow-controls__arrows"></div>
          </div>

          {% render 'product-label-detail', product: product, current_variant: current_variant %}
        </div>

        {% if product.media.size > 1 %}
          <div class="thumbnails">
            {% for media in product.media %}
              <a class="thumbnail thumbnail--media-{{ media.media_type }}" href="{% if section.settings.enable_zoom %}{{ media.preview_image | img_url: zoom_size }}{% else %}#{% endif %}" data-media-id="{{ media.id }}">
                {% render 'responsive-image', image: media.preview_image, min_aspect_ratio: min_aspect_ratio %}

                {%- if media.media_type == 'video' or media.media_type =='external_video' -%}
                  <div class="thumbnail__badge">
                    {% render 'icon-video-badge-full-color' %}
                  </div>
                {%- endif -%}
                {%- if media.media_type == 'model' -%}
                  <div class="thumbnail__badge">
                    {% render 'icon-3d-badge-full-color' %}
                  </div>
                {%- endif -%}
              </a>
            {% endfor %}
          </div>
        {% endif %}
      </div>
    </div>

    <div class="detail product-column-right" {% unless in_lightbox %}data-cc-animate data-cc-animate-delay="0.2s"{% endunless %}>
      {%- liquid
        assign show_preorder_label = false
        if settings.prod_pre_order_label_show and product.template_suffix == 'preorder'
          assign show_preorder_label = true
        endif
      -%}
      {% form 'product', product, class: 'form', data-ajax-add-to-cart: true, data-product-id: product.id, data-enable-history-state: 'true', data-show-sale-price-label: settings.prod_sale_show, data-show-preorder-label: show_preorder_label %}
        {%- if settings.swatch_enabled and settings.swatch_images -%}
          <style>
          {%- for product_option in product.options_with_values -%}
              {%- if product_option.name == settings.swatch_option_name -%}
                {%- for value in product_option.values -%}
                  {%- assign swatch_value = value | handle -%}
                  .option--{{ settings.swatch_option_name | handle }} select[data-listed][data-colour-swatch="true"] + .clickyboxes .opt--{{ swatch_value }}::before,
                  .swatch-option__nugget.bg-{{ swatch_value }} {
                    background-image: url({{ swatch_value | append: '.png' | file_img_url: '48x48', crop: 'center' }});
                  }
                {%- endfor -%}
              {%- endif -%}
            {%- endfor -%}
          </style>
        {%- endif -%}

        <div class="content-divider">
          <div class="title-row">
            <h1 class="title">{{ product.title }}</h1>        
            <div product-id="{{ product.id }}" class="alr-display-review-badge"></div>
<span class="stamped-product-reviews-badge stamped-main-badge" data-id="{{product.id}}" data-product-title="{{product.title}}" data-product-type="{{product.type}}" style="display: block;"></span>
          </div>
          <div class="price-container">
            <div>
              <div class="price-area">
                <div class="price h4-style {% if current_variant.compare_at_price > current_variant.price %}on-sale{% endif %}">
                  <span class="current-price theme-money">{{ current_variant.price | money }}</span>
                  {% if current_variant.compare_at_price > current_variant.price %}
                  <span class="was-price theme-money">{{ current_variant.compare_at_price | money }}</span>
                  {% endif %}
                </div>

                {% render 'unit-price', variant: current_variant %}
              </div>
            </div>
            <div class="price-descriptors">
              {{ form | payment_terms }}

              {%- if section.settings.show_tax_and_shipping -%}
                {%- if shop.taxes_included or shop.shipping_policy.body != blank -%}
                  <div class="product-policies">
                    {%- if shop.taxes_included -%}
                      {{ 'products.product.include_taxes' | t }}
                    {%- endif -%}
                    {%- if shop.shipping_policy.body != blank -%}
                      {{ 'products.product.shipping_policy_html' | t: link: shop.shipping_policy.url }}
                    {%- endif -%}
                  </div>
                {%- endif -%}
              {%- endif -%}

              {% if section.settings.inventory_transfers_enable %}
                <div class="product-inventory-transfer {% unless current_variant.incoming %}product-inventory-transfer--none{% endunless %}">
                  {%- if current_variant.incoming -%}
                    {%- if current_variant.next_incoming_date -%}
                      {%- assign date = current_variant.next_incoming_date | date: format: 'date' -%}
                      {%- if current_variant.available -%}
                        {{ 'products.transfers.will_not_ship_until' | t: date: date }}
                      {%- else -%}
                        {{ 'products.transfers.will_be_in_stock_after' | t: date: date }}
                      {%- endif -%}
                    {%- else -%}
                      {{ 'products.transfers.waiting_for_stock' | t }}
                    {%- endif -%}
                  {%- endif -%}
                </div>
              {% endif %}
            </div>
            {%- if settings.enable_product_reviews_by_price -%}
              <div class="theme-product-reviews">
                <a href="#shopify-product-reviews" aria-label="{{ 'products.product.reviews_link' | t | escape }}"><span class="shopify-product-reviews-badge" data-id="{{ product.id }}"></span></a>
              </div>
            {%- endif -%}
          </div>

          {% if section.settings.show_vendor or section.settings.show_sku %}
            <div class="lightly-spaced-row">
              {%- if section.settings.show_vendor -%}
                {%- comment -%}
                Do we have a collection that has the same name as our product vendor name?
                If we do, let's have the vendor link point to it.
                If not, we will point to the automatic vendor collection.
                {%- endcomment -%}
                {%- assign product_vendor_handle = product.vendor | handle -%}
                {%- if collections[product_vendor_handle].handle == product_vendor_handle -%}
                  {%- assign vendor_url = collections[product_vendor_handle].url -%}
                {%- else -%}
                  {%- assign vendor_url = product.vendor | url_for_vendor -%}
                {%- endif -%}
                <div class="vendor"><span class="product-detail-label">{{ 'products.product.vendor' | t }}</span> {{ product.vendor | link_to: vendor_url }}</div>
              {%- endif -%}

              {%- if section.settings.show_sku -%}
                <div class="sku {% if product.selected_or_first_available_variant.sku == blank %}sku--no-sku{% endif %}"><span class="product-detail-label">{{ 'products.product.sku' | t }}</span> <span class="sku__value">{{ product.selected_or_first_available_variant.sku }}</span></div>
              {%- endif -%}
            </div>
          {% endif %}
        </div>

        <div class="product-form section content-divider {% if in_lightbox == false and section.settings.description_location != 'beside' %}{% if section.settings.description_location == 'accordion' or section.settings.accordion_item1_page != blank or section.settings.accordion_item2_page != blank or section.settings.accordion_item3_page != blank %}accordion-below{% endif %}{% endif %}">

        <div class="input-row">
            {% unless product.has_only_default_variant %}
              <div class="option-selectors">
                {% for option in product.options_with_values %}
                  <div  class="selector-wrapper styled-select {% if option.name == 'Size' %} option_select_size {% endif %} {% if settings.swatch_enabled and option.name == settings.swatch_option_name %} swatches option--{{ settings.swatch_option_name | handle }}{% endif %}" {% if settings.variant_style == 'listed' %}data-make-box{% endif %}>
                    <label for="SingleOptionSelector-{{ forloop.index0 }}">
                      {{ option.name }}
                    </label>
                    <select
                      id="SingleOptionSelector-{{ forloop.index0 }}"
                      class="single-option-selector"
                      {% if option.name == 'Size' %}
                            GetSelectedSize
                      {% endif %}
                      data-single-option-selector
                      data-index="option{{ option.position }}"
                      {% if settings.variant_style == 'listed' %}data-listed{% endif %}
                      {% if settings.swatch_enabled and option.name == settings.swatch_option_name %}data-colour-swatch="true"{% endif %}>
                      {% for value in option.values %}
                        <option
                          value="{{ value | escape }}"
                          {% if option.selected_value == value %}selected="selected"{% endif %}>{{ value }}</option>
                      {% endfor %}
                    </select>
                
                    {% if settings.show_size_chart and option.name == settings.size_chart_variant %}
                      <div class="size-chart-container" >
                        <a href="{{ pages[settings.size_chart_page].url }}" target="_blank" class="size-chart-link">
                          <span id="size-remind" style="background-color: #f8f8f8;border-radius: 4px;font-size: 14px;padding: 6px 10px;">{{ 'products.product.size_chart' | t }}</span>
                        </a>
                        <div class="size-chart-content hidden">
                          <div class="size-chart">
                            <div class="size-chart__inner rte">
                              {{ pages[settings.size_chart_page].content }}
                            </div>
                          </div>
                        </div>
                      </div>
                    {% endif %}
                    {% if option.name == 'Size' %}
                      <div class="size-chart-container" >
                        
                          <span id="size-remind" style="background-color: #f8f8f8;border-radius: 4px;font-size: 14px;padding: 6px 10px; display: none;"></span>

                      </div>
                    {% endif %}
                  </div>
                {% endfor %}
<script type="text/template" id="tmplate_custom_size">
<div class="ky_size-switch"><span class="product_form_span_size select">Size</span><span class="product_form_span_custom_size">Custom Size</span></div>
 <div class="custom_size clearfix" style="display: none;">
  <h5 class="custom-size-fee-desc mobile_hide">Looking for a perfect fit? our tailors will use your exact measurements to create a made-to-order dress just for you.</h5>
 <div class="title mobile_show">
	 <div class="pop-panel-header not-center">
		 	<h3 class="title-text">Custom Size</h3>
			 <span  class="bg-sprite icon-close-share close ky_popup_close">
            	<svg style="width: 16px; height: 16px; float: left;" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="16" y1="0" x2="0" y2="16"></line><line x1="0" y1="0" x2="16" y2="16"></line></svg>
			 </span>
			 <span  class="save ky_popup_save">Save</span>
	 </div>
 </div>
  <div class="custom_dress clearfix">
    <div class="custom_inner">
      <div class="cm_select" style="" >
        <div class="size_select_one">
          <label for="">Bust</label>
          <div class="styled-select  swatches option--hande">
            <select name="properties[Bust]" class="single-option-selector properties_select" data-single-option-selector>
            <option value="" >Please select ...</option>
													<option value="30">30 inch</option>
													<option value="30.5">30.5 inch</option>
													<option value="31">31 inch</option>
													<option value="31.5">31.5 inch</option>
													<option value="32">32 inch</option>
													<option value="32.5">32.5 inch</option>
													<option value="33">33 inch</option>
													<option value="33.5">33.5 inch</option>
													<option value="34">34 inch</option>
													<option value="34.5">34.5 inch</option>
													<option value="35">35 inch</option>
													<option value="35.5">35.5 inch</option>
													<option value="36">36 inch</option>
													<option value="36.5">36.5 inch</option>
													<option value="37">37 inch</option>
													<option value="37.5">37.5 inch</option>
													<option value="38">38 inch</option>
													<option value="38.5">38.5 inch</option>
													<option value="39">39 inch</option>
													<option value="39.5">39.5 inch</option>
													<option value="40">40 inch</option>
													<option value="40.5">40.5 inch</option>
													<option value="41">41 inch</option>
													<option value="41.5">41.5 inch</option>
													<option value="42">42 inch</option>
													<option value="42.5">42.5 inch</option>
													<option value="43">43 inch</option>
													<option value="43.5">43.5 inch</option>
													<option value="44">44 inch</option>
													<option value="44.5">44.5 inch</option>
													<option value="45">45 inch</option>
													<option value="45.5">45.5 inch</option>
													<option value="46">46 inch</option>
													<option value="46.5">46.5 inch</option>
													<option value="47">47 inch</option>
													<option value="47.5">47.5 inch</option>
													<option value="48">48 inch</option>
													<option value="48.5">48.5 inch</option>
													<option value="49">49 inch</option>
													<option value="49.5">49.5 inch</option>
													<option value="50">50 inch</option>
													<option value="50.5">50.5 inch</option>
													<option value="51">51 inch</option>
													<option value="51.5">51.5 inch</option>
													<option value="52">52 inch</option>
													<option value="52.5">52.5 inch</option>
													<option value="53">53 inch</option>
													<option value="53.5">53.5 inch</option>
													<option value="54">54 inch</option>
													<option value="54.5">54.5 inch</option>
													<option value="55">55 inch</option>
													<option value="55.5">55.5 inch</option>
													<option value="56">56 inch</option>
            </select>
          </div>
         </div>
        <div class="size_select_one">
          <label for="">Waist</label>
          <div class="styled-select">
            <select name="properties[Waist]" class="single-option-selector properties_select" data-single-option-selector>
            <option value="" >Please select ...</option>
          				<option value="24.5">24.5 inch</option>
													<option value="25">25 inch</option>
													<option value="25.5">25.5 inch</option>
													<option value="26">26 inch</option>
													<option value="26.5">26.5 inch</option>
													<option value="27">27 inch</option>
													<option value="27.5">27.5 inch</option>
													<option value="28">28 inch</option>
													<option value="28.5">28.5 inch</option>
													<option value="29">29 inch</option>
													<option value="29.5">29.5 inch</option>
													<option value="30">30 inch</option>
													<option value="30.5">30.5 inch</option>
													<option value="31">31 inch</option>
													<option value="31.5">31.5 inch</option>
													<option value="32">32 inch</option>
													<option value="32.5">32.5 inch</option>
													<option value="33">33 inch</option>
													<option value="33.5">33.5 inch</option>
													<option value="34">34 inch</option>
													<option value="34.5">34.5 inch</option>
													<option value="35">35 inch</option>
													<option value="35.5">35.5 inch</option>
													<option value="36">36 inch</option>
													<option value="36.5">36.5 inch</option>
													<option value="37">37 inch</option>
													<option value="37.5">37.5 inch</option>
													<option value="38">38 inch</option>
													<option value="38.5">38.5 inch</option>
													<option value="39">39 inch</option>
													<option value="39.5">39.5 inch</option>
													<option value="40">40 inch</option>
													<option value="40.5">40.5 inch</option>
													<option value="41">41 inch</option>
													<option value="41.5">41.5 inch</option>
													<option value="42">42 inch</option>
													<option value="42.5">42.5 inch</option>
													<option value="43">43 inch</option>
													<option value="43.5">43.5 inch</option>
													<option value="44">44 inch</option>
													<option value="44.5">44.5 inch</option>
													<option value="45">45 inch</option>
													<option value="45.5">45.5 inch</option>
													<option value="46">46 inch</option>
													<option value="46.5">46.5 inch</option>
													<option value="47">47 inch</option>
													<option value="47.5">47.5 inch</option>
													<option value="48">48 inch</option>
													<option value="48.5">48.5 inch</option>
													<option value="49">49 inch</option>
													<option value="49.5">49.5 inch</option>
													<option value="50">50 inch</option>
													<option value="50.5">50.5 inch</option>
													<option value="51">51 inch</option>
													<option value="51.5">51.5 inch</option>
													<option value="52">52 inch</option>
													<option value="52.5">52.5 inch</option>
													<option value="53">53 inch</option>
													</select></div>
          </div>
        <div class="size_select_one">
          <label for="">Hips</label>
          <div class="styled-select">
            <select name="properties[Hips]" class="single-option-selector properties_select" data-single-option-selector>
            <option value="" >Please select ...</option>
          	<option value="34.5">34.5 inch</option>
													<option value="35">35 inch</option>
													<option value="35.5">35.5 inch</option>
													<option value="36">36 inch</option>
													<option value="36.5">36.5 inch</option>
													<option value="37">37 inch</option>
													<option value="37.5">37.5 inch</option>
													<option value="38">38 inch</option>
													<option value="38.5">38.5 inch</option>
													<option value="39">39 inch</option>
													<option value="39.5">39.5 inch</option>
													<option value="40">40 inch</option>
													<option value="40.5">40.5 inch</option>
													<option value="41">41 inch</option>
													<option value="41.5">41.5 inch</option>
													<option value="42">42 inch</option>
													<option value="42.5">42.5 inch</option>
													<option value="43">43 inch</option>
													<option value="43.5">43.5 inch</option>
													<option value="44">44 inch</option>
													<option value="44.5">44.5 inch</option>
													<option value="45">45 inch</option>
													<option value="45.5">45.5 inch</option>
													<option value="46">46 inch</option>
													<option value="46.5">46.5 inch</option>
													<option value="47">47 inch</option>
													<option value="47.5">47.5 inch</option>
													<option value="48">48 inch</option>
													<option value="48.5">48.5 inch</option>
													<option value="49">49 inch</option>
													<option value="49.5">49.5 inch</option>
													<option value="50">50 inch</option>
													<option value="50.5">50.5 inch</option>
													<option value="51">51 inch</option>
													<option value="51.5">51.5 inch</option>
													<option value="52">52 inch</option>
													<option value="52.5">52.5 inch</option>
													<option value="53">53 inch</option>
													<option value="53.5">53.5 inch</option>
													<option value="54">54 inch</option>
													<option value="54.5">54.5 inch</option>
													<option value="55">55 inch</option>
													<option value="55.5">55.5 inch</option>
													<option value="56">56 inch</option>
													<option value="56.5">56.5 inch</option>
													<option value="57">57 inch</option>
													<option value="57.5">57.5 inch</option>
													<option value="58">58 inch</option>
													<option value="58.5">58.5 inch</option>
													<option value="59">59 inch</option>
													<option value="59.5">59.5 inch</option>
													<option value="60">60 inch</option>
													<option value="60.5">60.5 inch</option>
													<option value="61">61 inch</option>
													<option value="61.5">61.5 inch</option>
													<option value="62">62 inch</option>
													<option value="62.5">62.5 inch</option>
													<option value="63">63 inch</option>
          </select></div>
          </div>
        <div class="size_select_one">
          <label for="">Hollow to Floor</label>
          <div class="styled-select">
            <select name="properties[Hollow]" class="single-option-selector properties_select" data-single-option-selector>
            <option value="" >Please select ...</option>
         				<option value="47">47 inch</option>
													<option value="47.5">47.5 inch</option>
													<option value="48">48 inch</option>
													<option value="48.5">48.5 inch</option>
													<option value="49">49 inch</option>
													<option value="49.5">49.5 inch</option>
													<option value="50">50 inch</option>
													<option value="50.5">50.5 inch</option>
													<option value="51">51 inch</option>
													<option value="51.5">51.5 inch</option>
													<option value="52">52 inch</option>
													<option value="52.5">52.5 inch</option>
													<option value="53">53 inch</option>
													<option value="53.5">53.5 inch</option>
													<option value="54">54 inch</option>
													<option value="54.5">54.5 inch</option>
													<option value="55">55 inch</option>
													<option value="55.5">55.5 inch</option>
													<option value="56">56 inch</option>
													<option value="56.5">56.5 inch</option>
													<option value="57">57 inch</option>
													<option value="57.5">57.5 inch</option>
													<option value="58">58 inch</option>
													<option value="58.5">58.5 inch</option>
													<option value="59">59 inch</option>
													<option value="59.5">59.5 inch</option>
													<option value="60">60 inch</option>
													<option value="60.5">60.5 inch</option>
													<option value="61">61 inch</option>
													<option value="61.5">61.5 inch</option>
													<option value="62">62 inch</option>
													<option value="62.5">62.5 inch</option>
													<option value="63">63 inch</option>
													<option value="63.5">63.5 inch</option>
													<option value="64">64 inch</option>
													<option value="64.5">64.5 inch</option>
													<option value="65">65 inch</option>
													<option value="65.5">65.5 inch</option>
													<option value="66">66 inch</option>
													<option value="66.5">66.5 inch</option>
													<option value="67">67 inch</option>
													<option value="67.5">67.5 inch</option>
													<option value="68">68 inch</option>
													<option value="68.5">68.5 inch</option>
													<option value="69">69 inch</option>
													<option value="69.5">69.5 inch</option>
													<option value="70">70 inch</option>
													<option value="70.5">70.5 inch</option>
													<option value="71">71 inch</option>
													<option value="71.5">71.5 inch</option>
													<option value="72">72 inch</option>
													<option value="72.5">72.5 inch</option>
													<option value="73">73 inch</option>
													<option value="73.5">73.5 inch</option>
													<option value="74">74 inch</option>
													<option value="74.5">74.5 inch</option>
													<option value="75">75 inch</option>
													</select>
            </div>
     </div>
        <div class="size_select_one" >
          <label>Height (Bare Foot)</label>
          <div class="styled-select">
            <select name="properties[Height]" class="single-option-selector properties_select" data-single-option-selector>
              <option value="" >Please select ...</option>
           	<option value="57">57 inch</option>
													<option value="57.5">57.5 inch</option>
													<option value="58">58 inch</option>
													<option value="58.5">58.5 inch</option>
													<option value="59">59 inch</option>
													<option value="59.5">59.5 inch</option>
													<option value="60">60 inch</option>
													<option value="60.5">60.5 inch</option>
													<option value="61">61 inch</option>
													<option value="61.5">61.5 inch</option>
													<option value="62">62 inch</option>
													<option value="62.5">62.5 inch</option>
													<option value="63">63 inch</option>
													<option value="63.5">63.5 inch</option>
													<option value="64">64 inch</option>
													<option value="64.5">64.5 inch</option>
													<option value="65">65 inch</option>
													<option value="65.5">65.5 inch</option>
													<option value="66">66 inch</option>
													<option value="66.5">66.5 inch</option>
													<option value="67">67 inch</option>
													<option value="67.5">67.5 inch</option>
													<option value="68">68 inch</option>
													<option value="68.5">68.5 inch</option>
													<option value="69">69 inch</option>
													<option value="69.5">69.5 inch</option>
													<option value="70">70 inch</option>
													<option value="70.5">70.5 inch</option>
													<option value="71">71 inch</option>
													<option value="71.5">71.5 inch</option>
													<option value="72">72 inch</option>
													<option value="72.5">72.5 inch</option>
													<option value="73">73 inch</option>
													<option value="73.5">73.5 inch</option>
													<option value="74">74 inch</option>
													<option value="74.5">74.5 inch</option>
													<option value="75">75 inch</option>
													<option value="75.5">75.5 inch</option>
													<option value="76">76 inch</option>
													</select>
          </div>
        </div>

		  <div class="custom_pic mobile_show" alt="Measuring Guide" data-url="{{ 'custom_en_big.jpg' | asset_url }}">
			  <img src="{{ 'custom_en.jpg' | asset_url }}" width="267" height="306" alt="Measuring Guide">
			  <i class=""></i>
		  </div>
      </div>
    </div>
    <div class="custom_pic mobile_hide" alt="Measuring Guide" data-url="{{ 'custom_en_big.jpg' | asset_url }}">
      <img src="{{ 'custom_en.jpg' | asset_url }}" width="267" height="306" alt="Measuring Guide">
      <i class=""></i>
    </div>
  </div>
	<div class="mobile_show" style="padding:0px 10px 20px;">
		 <div  class="custom-size-terms-tpl">
			 <div  class="terms-tpl">
				 <p  class="confirm-terms-and-conditions">Tips:</p>
				 <p >•&nbsp;Custom sizes are final sale and are non-returnable.</p>
				 <p >•&nbsp;The sizes provided are my own and are not standard size measurements.</p>
				 <p >•&nbsp;Tailoring time for custom-made products: 15-20 days</p></div>
		 </div>
	</div>
</div>

</script>
<script>
$("form[data-ajax-add-to-cart=true]").change(function() {
	////根据商品的rid,获取当前商品json里的tag值
	var Product_id = __st["rid"];
	var Product_all = $("#ProductJson-" + Product_id).html();
	var Product_json = JSON.parse(Product_all);
	var Product_json_tags = Product_json["tags"];

	
	////获取3个SKU输入款的值
	var GetSelectedSize = $("select[GetSelectedSize]").find("option:selected").text();
	var websiteWidth = $(window).width();

	////根据宽度和SKU值，判断文本内容
	if (GetSelectedSize > 20 || GetSelectedSize.indexOf("CN ") >= 0) {
		websiteWidth > 767 ? printSelectedSize = "Size: " + GetSelectedSize: printSelectedSize = "";
	}
	
	////Wedding Shoes使用单独的尺码表
	if (Product_json_tags.indexOf("Wedding Shoes") >= 0) {
		$("#size-remind").css({"display":"inline"});
		if (GetSelectedSize.indexOf("CN 35") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 8.82 inch");
		} else if (GetSelectedSize.indexOf("CN 36") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 9.06 inch");
		} else if (GetSelectedSize.indexOf("CN 37") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 9.29 inch");
		} else if (GetSelectedSize.indexOf("CN 38") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 9.53 inch");
		} else if (GetSelectedSize.indexOf("CN 39") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 9.76 inch");
		} else if (GetSelectedSize.indexOf("CN 40") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 10.00 inch");
		} else if (GetSelectedSize.indexOf("CN 41") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 10.24 inch");
		} else if (GetSelectedSize.indexOf("CN 42") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 10.47 inch");
		} else if (GetSelectedSize.indexOf("CN 43") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 10.71 inch");
		} else if (GetSelectedSize.indexOf("CN 44") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 10.94 inch");
		} else {
			$("#size-remind").css({"display":"none"});
		}
	} else if ( Product_json_tags.indexOf("Dance Wear") == -1 && Product_json_tags.indexOf("Wedding Shoes") == -1 ) {
		$("#size-remind").css({"display":"inline"});
		if (GetSelectedSize.indexOf("CN 33") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 8.46 inch");
		} else if (GetSelectedSize.indexOf("CN 34") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 8.66 inch");
		} else if (GetSelectedSize.indexOf("CN 35") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 8.86 inch");
		} else if (GetSelectedSize.indexOf("CN 36") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 9.06 inch");
		} else if (GetSelectedSize.indexOf("CN 37") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 9.25 inch");
		} else if (GetSelectedSize.indexOf("CN 38") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 9.45 inch");
		} else if (GetSelectedSize.indexOf("CN 39") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 9.65 inch");
		} else if (GetSelectedSize.indexOf("CN 40") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 9.84 inch");
		} else if (GetSelectedSize.indexOf("CN 41") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 10.04 inch");
		} else if (GetSelectedSize.indexOf("CN 42") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 10.24 inch");
		} else if (GetSelectedSize.indexOf("CN 43") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 10.43 inch");
		} else if (GetSelectedSize.indexOf("CN 44") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 10.63 inch");
		} else if (GetSelectedSize.indexOf("CN 45") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 10.83 inch");
		} else if (GetSelectedSize.indexOf("CN 46") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 11.02 inch");
		} else if (GetSelectedSize.indexOf("CN 47") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 11.22 inch");
		} else if (GetSelectedSize.indexOf("CN 48") >= 0) {
			$("#size-remind").text(printSelectedSize + " Foot Length: 11.42 inch");
		} else if (GetSelectedSize == "32") {
			$("#size-remind").text(printSelectedSize + " Foot Length: 8.27 inch");
		} else if (GetSelectedSize == "31") {
			$("#size-remind").text(printSelectedSize + " Foot Length: 8.07 inch");
		} else if (GetSelectedSize == "30") {
			$("#size-remind").text(printSelectedSize + " Foot Length: 7.87 inch");
		} else if (GetSelectedSize == "29") {
			$("#size-remind").text(printSelectedSize + " Foot Length: 7.68 inch");
		} else if (GetSelectedSize == "28") {
			$("#size-remind").text(printSelectedSize + " Foot Length: 7.48 inch");
		} else if (GetSelectedSize == "27") {
			$("#size-remind").text(printSelectedSize + " Foot Length: 7.28 inch");
		} else if (GetSelectedSize == "26") {
			$("#size-remind").text(printSelectedSize + " Foot Length: 7.09 inch");
		} else if (GetSelectedSize == "25") {
			$("#size-remind").text(printSelectedSize + " Foot Length: 6.89 inch");
		} else if (GetSelectedSize == "24") {
			$("#size-remind").text(printSelectedSize + " Foot Length: 6.69 inch");
		} else {
			$("#size-remind").css({"display":"none"});
		}
	}
});
  

var ky_tip_html = 'You choose to customize, within 24 hours of your order customer service will contact you via email, you can also choose to contact customer service directly to provide custom size related information(<a href="mailto:Contact@danceandsway.com">Contact@danceandsway.com</a>)';
document.addEventListener('DOMContentLoaded', function(){
    setTimeout(function() {

        const productJson = [...document.querySelectorAll('[id^=ProductJson-')];
        if (productJson.length > 0) {
            productJson.forEach(function(product){

                try {
                    const productInfo = JSON.parse(product.innerHTML);

                    if (productInfo.tags && productInfo.tags.indexOf('Customisable') != -1) {
                        let findCustomized = false;
                        let options = $('#product_form_' + productInfo.id + ' .single-option-selector option[value=Customized]')
                        if(options.length > 0)
                        {
                           findCustomized = true;
                        }

                        if(findCustomized){
    
                              let size_selector_wrapper = $(".option_select_size");
                              size_selector_wrapper.find('label').addClass("hide");

                              let html = $("#tmplate_custom_size").html();

                              size_selector_wrapper.before( html);
                              
                              size_selector_wrapper.find('option[value="Customized"]').remove();
         
                        }

                    }

                } catch (e) {
                    console.info(e);
                }

            });
        }

    }, 100);
});

let ky_temp_size_val = '';
let ky_is_mobile = window.matchMedia('(max-width: 600px)').matches;


function action_for_custom_size(){

	$(".custom_size").show();

	if(ky_is_mobile)
	{
		$('.ky_mask').show();
		$('.custom_size').addClass('ky_popup');
		$(".custom_size").css('height', 0);
		$(".custom_size").animate({height: '80%',}, 'fast', "linear");

		$(document.body).addClass('freeze');

	}
	else{
		$(".option_select_size").hide();
	}

	$(".custom_inner select").attr('disabled', false)

	$(".product_form_span_custom_size").addClass('select');
	$(".product_form_span_size").removeClass('select');

	let size_selector_wrapper = $(".option_select_size");

	size_selector_wrapper.find('option:selected').removeAttr('selected');
	ky_temp_size_val = size_selector_wrapper.find('select').val();
	size_selector_wrapper.find('select').append('<option value="Customized" selected="selected">Please Select</option>');
	size_selector_wrapper.find('select').trigger('change');
}

$(document).on("click tap", ".product_form_span_custom_size" , function() {
	action_for_custom_size();
});

$(document).on("click tap", ".product_form_span_size" , function() {

  $(".custom_inner select").attr('disabled', true)
  $(".custom_size").hide();
  $(".option_select_size").show();
  
  $(".product_form_span_custom_size").removeClass('select');
  $(".product_form_span_size").addClass('select');
  
  let size_selector_wrapper = $(".option_select_size");
  size_selector_wrapper.find('option[value="Customized"]').remove();
  if(ky_temp_size_val)
  {
      size_selector_wrapper.find('select').val(ky_temp_size_val);
  }
  
  size_selector_wrapper.find('select').trigger('change');
});


$(function(){

	$('<div class="ky_mask" style="opacity: 1;display: none;"></div>').appendTo(document.body);

	let size_selector_wrapper = $(".option_select_size");
	if(size_selector_wrapper)
	{
		size_selector_wrapper.find('select').on('select2:opening', function (ev) {
			if(size_selector_wrapper.find('option[value=Customized]').length>0){
				action_for_custom_size();
				ev.preventDefault();
			}

		});
	}
})


$(document).on("click ", ".ky_popup_close" , function() {
	$('.ky_mask').hide();
	$('.custom_size').hide();

	$(document.body).removeClass('freeze');

	let size_selector_wrapper = $(".option_select_size");
	size_selector_wrapper.find('option[value="Customized"]').remove();
	if(ky_temp_size_val)
	{
		size_selector_wrapper.find('select').val(ky_temp_size_val);
	}

	size_selector_wrapper.find('select').trigger('change');
	$(".product_form_span_custom_size").removeClass('select');
	$(".product_form_span_size").addClass('select');
	$(".custom_inner select").attr('disabled', true)
});


$(document).on("click ", ".ky_popup_save" , function() {

	$(document.body).removeClass('freeze');
	let name = [
			'Bust', 'Waist', 'Hips', 'Hollow','Height'
	];

	let error = false;
	let customized = [];
	for(let i in  name)
	{
		let select = $("[name='properties\["+name[i]+"\]']");
		//console.info(select);
		if(select.val() == '')
		{
			select.addClass('error');
			error = true;
		}
		else{
			select.removeClass('error');

			customized.push(name[i] + ': ' + select.val() + "inch");
		}


	}

	if(error)
	{
		return;
	}

/*	if(!$(".check-custom-size-terms").is(':checked'))
	{
		alert('Please accept our terms and conditions.');
		return;
	}*/

	$('.ky_mask').hide();
	$('.custom_size').hide();

	let size_selector_wrapper = $(".option_select_size");

	size_selector_wrapper.find('option:selected').removeAttr('selected');
	size_selector_wrapper.find('option[value=Customized]').remove();
	size_selector_wrapper.find('select').append('<option value="Customized" selected="selected">Customized('+customized.join(', ')+')</option>');
	size_selector_wrapper.find('select').trigger('change');
});


$(document).on("change", ".properties_select", function(){
	if($(this).val() != '')
	{
		$(this).removeClass('error');
	}
})

$(document).on("click", ".custom_pic", function(){
   $.fancybox({
      'type': 'image',
     closeBtn: 'true',
	   padding:0,
	   margin:0,
	   scrolling:'no',
	   touch:false,
	   animationDuration:0,
	   animationEffect:false,
	   transitionDuration:false,
      'href': $(".custom_pic").attr('data-url')
   });
})
</script>
<style>
.ky_customized_tip {
}
.ky_customized_tip input {
	width:100%;
}
.error{
	border-color: #f00 !important;
}
.ky_size-switch {
	padding-bottom:20px;
}
.ky_size-switch span {
	margin-right:20px;
    font-size: 14px;
	cursor:pointer;
}
.ky_size-switch span.select {
	font-weight:700;
	color:#121313;
	border-bottom:2px solid #121313;
}
.hide {
	display:none !important;
}
.custom_dress {
	display:flex;
	flex-direction:row;
	justify-content:space-between;
	align-items:flex-end
}
.custom_inner {
	width:75%;
}
.cm_select {
	display:flex;
	flex-direction:row;
	flex-wrap:wrap;
	justify-content:space-between;
}
.size_select_one {
	width:49%;
	margin-bottom:8px
}
.custom_dress .styled-select>select {
	height:2.3em !important;
	padding:0 2.5em 0 0.5em !important;
	appearance:auto !important;
}
.custom_pic {
	position:relative;
	float:left;
	cursor:pointer;
	width:188px;
	padding-left:10px;
	padding-bottom:8px;
}
.custom_pic img {
	width:100%;
	height:auto;
	border-radius:8px;
	border:1px solid #e1e1e1;
	box-shadow:0 3px 5px rgb(0 0 0 / 7%);
	vertical-align:top;
}
.custom_pic i {
	position:absolute;
	cursor:pointer;
	z-index:1;
	width:24px;
	height:24px;
	background:url({{'enlarge.png' | asset_url}}) no-repeat;
	bottom:2px;
	right:0;
}

#fancybox-wrap{
	z-index: 51010;
}
#fancybox-overlay{
	z-index: 51000;
}
.ky_popup{
  position: fixed;
  width: 100%;
  z-index: 10002;
  height: 80%;
  border-radius: 8px 8px 0 0;
	left: 0;
	bottom: 0;
	background: #fff;
}
.ky_mask{
  position: fixed;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
	height: 100vh;
	overflow: hidden;
	overflow-y:hidden !important;
  background-color: rgba(0, 0, 0, 0.3);
  z-index: 10000;
}
.mobile_show{
	display: none;
}

.pop-panel-header {
	min-height: 46px;
	line-height: 46px;
	position: relative;
	text-align: center;
	font-weight: 500;
	border-bottom: 1px solid #dcdcdc;
}

.pop-panel-header.not-center  .title-text{
	text-align: left;
	margin-left: 40px;
	font-size: 16px;
	min-height: 46px;
	line-height: 46px;
	margin-bottom: 0px;
}

.pop-panel-header .close {
	position: absolute;
	left: 10px;
	top: 15px;
}
.bg-sprite.icon-close-share {
	width: 16px;
	height: 16px;
}

.pop-panel-header .save{
	position: absolute;
	font-size: 16px;
	top: 0;
	right: 11px;
	color: #FF7176;
}

 .custom-size-terms-tpl {
	display: flex;
	padding: 12px;
	margin: 0px 0 20px 0;
	border: 1px solid #bfbfbf;
	border-radius: 4px;
}
.custom-size-terms-tpl .checkbox-tpl{
	margin-right: 10px;
}

.custom-size-terms-tpl  .terms-tpl{
	font-size: 12px;
}
.custom-size-terms-tpl .terms-tpl p {
	margin-bottom: 8px;
	line-height: 1.5em;
}

body.freeze {
	height: 100%;
	overflow: hidden;
	overflow-y: hidden !important;
}
body.freeze #content{
	overflow-y: hidden !important;
}

@media only screen and (max-width: 600px) {
	.mobile_show{
		display: block;
	}
	.mobile_hide{
		display: none;
	}
	.custom_inner{
		width:100%;
	}
	.custom_dress{
		padding: 0 10px;
	}
	.custom_pic img{
		border: none;
		box-shadow: none;
	}

	.custom_pic{
		border: none;
		box-shadow: none;
	}
	.custom_pic i{
		display: none;
	}
}
</style>        
              </div>
            {% endunless %}

            <select name="id" class="original-selector{% if product.variants.size == 1 %} hidden{% endif %}" aria-label="{{ 'products.product.selector_label' | t | escape }}">
              {% for variant in product.variants %}
              <option value="{{ variant.id }}"
                {% if variant == product.selected_or_first_available_variant %} selected="selected"{% endif %}
                {% if section.settings.show_inventory_notice and variant.inventory_management == 'shopify' and variant.inventory_quantity > 0 %}
                  {% if section.settings.inventory_notice_threshold == 0 or variant.inventory_quantity <= section.settings.inventory_notice_threshold %}
                    data-inventory="{{ variant.inventory_quantity }}"
                  {% endif %}
                {% endif %}
                {% if section.settings.inventory_transfers_enable and variant.incoming %}
                  {%- if variant.next_incoming_date -%}
                    {%- assign date = variant.next_incoming_date | date: format: 'date' -%}
                    {%- if variant.available -%}
                      data-inventory-transfer="{{ 'products.transfers.will_not_ship_until' | t: date: date | escape }}"
                    {%- else -%}
                      data-inventory-transfer="{{ 'products.transfers.will_be_in_stock_after' | t: date: date | escape }}"
                    {%- endif -%}
                  {%- else -%}
                    data-inventory-transfer="{{ 'products.transfers.waiting_for_stock' | t | escape }}"
                  {%- endif -%}
                {% endif %}
                data-stock="{% if variant.inventory_management == 'shopify' and variant.inventory_quantity <= 0 %}out{% endif %}">{{ variant.title | escape }}</option>
              {% endfor %}
            </select>
          </div>

          {% if product.available %}
            {% if section.settings.show_inventory_notice %}
              {%- capture inventory_notice -%}
                {%- if current_variant.inventory_management == 'shopify' and current_variant.inventory_quantity > 0 -%}
                  {%- if section.settings.inventory_notice_threshold == 0 or current_variant.inventory_quantity <= section.settings.inventory_notice_threshold -%}
                    <div class="product-inventory-notice">
                      {{- 'products.labels.only_x_left' | t: quantity: current_variant.inventory_quantity -}}
                    </div>
                  {%- else -%}
                    <div class="product-inventory-notice product-inventory-notice--no-inventory"></div>
                  {%- endif -%}
                {%- else -%}
                  <div class="product-inventory-notice product-inventory-notice--no-inventory"></div>
                {%- endif -%}
              {%- endcapture -%}
            {% endif %}

            {% unless section.settings.show_quantity_selector %}{{ inventory_notice }}{% endunless %}

            {%- liquid
              assign enable_dynamic_payment_button = false
              if section.settings.enable_payment_button and product.selling_plan_groups == empty and product.template_suffix != 'preorder'
                assign enable_dynamic_payment_button = true
              endif
            -%}
            <div class="quantity-submit-row input-row {% if enable_dynamic_payment_button %}has-spb{% endif %}">
              {% if section.settings.show_quantity_selector %}
                <label for="quantity">
                  {{ 'products.product.quantity' | t }} {{ inventory_notice }}
                </label>
                <div class="quantity-wrapper">
                  <a href="#" data-quantity="down">{% render 'svg-minus' %}</a>
                  <input aria-label="{{ 'products.product.quantity' | t }}" id="quantity" type="text" name="quantity" value="1" />
                  <a href="#" data-quantity="up">{% render 'svg-plus' %}</a>
                </div>
              {% endif %}
              <div class="quantity-submit-row__submit input-row">
                {%- capture add_to_cart_text -%}
                  {%- if product.template_suffix contains 'preorder' -%}
                    {{ 'products.product.preorder' | t }}
                  {%- else -%}
                    {{ 'products.product.add_to_cart' | t }}
                  {%- endif -%}
                {%- endcapture -%}
                <button class="button button--large" type="submit" data-add-to-cart-text="{{ add_to_cart_text | escape }}">
                  {{- add_to_cart_text -}}
                </button>
              </div>
              {% if enable_dynamic_payment_button %}
                {{ form | payment_button }}
              {% endif %}

              {% if section.settings.show_backorder_text == true %}
                {% render 'backorder', product: product, variant: current_variant %}
              {% endif %}
            </div>

            {%- unless in_lightbox or section.settings.show_pickup_availability == false -%}
              {% render 'store-availability', product: product, current_variant: current_variant %}
            {%- endunless -%}

          {% else %}
            <div class="product-unavailable">{{ 'products.product.product_unavailable' | t }}</div>
          {% endif %}

          {%- if in_lightbox -%}
          <script type="application/json" id="ProductJson-{{ product.id }}">
            {{- product | json -}}
          </script>
          {%- endif -%}
        </div>

        {% if section.settings.description_location == 'beside' and show_description %}
          <div class="product-description rte cf">{{ product.description }}</div>
        {% endif %}

        {% if in_lightbox and section.settings.description_location == 'accordion' and show_description %}
          <div class="product-description rte cf">{{ product.description }}</div>
        {% endif %}

        {%- if in_lightbox and show_description == false -%}
          <div class="lightly-spaced-row-above">
            <a class="more" href="{{ product.url }}">
              {{ 'products.quick_buy.read_more' | t }}
              <span class="icon-small icon-natcol">{% render 'svg-chevron-right' %}</span>
            </a>
          </div>
        {%- endif -%}

        {% unless in_lightbox %}
          {% if section.settings.description_location == 'accordion' or section.settings.accordion_item1_page != blank or section.settings.accordion_item2_page != blank or section.settings.accordion_item3_page != blank %}
            {%
              render "accordion",
                allow_multi_open: true,
                add_content_class: 'rte cf',
                content_snippet: 'accordion-helper-product-content'
            %}
          {% endif %}
        {% endunless %}

        {%- if in_lightbox == false and section.settings.show_sharing_links -%}
          <div class="desktop-only">
            {% render 'social-sharing', share_title: product.title, share_permalink: product.url, share_image: product %}
          </div>
        {%- endif -%}
      {% endform %}
    </div>
  </div><!-- /.product-detail -->

  {% if section.settings.description_location == 'below' and show_description %}
    <div class="product-description rte container cf padded-row">{{ product.description }}</div>

    {% comment %} Add code to show under the description on the line below this one, if full-width underneath the image {% endcomment %}
    <!-- Underneath the description -->
  {% endif %}

  {% if in_lightbox == false %}
    <div class="mobile-only product-meta">
      {% if section.settings.show_sharing_links %}
      <div class="product-meta-row">
        <div class="container">
          {% render 'social-sharing', share_title: product.title, share_permalink: product.url, share_image: product %}
        </div>
      </div>
      {% endif %}
    </div>
  {% endif %}
</div>


{% schema %}
  {
    "name": "Product pages",
    "class": "section-product-template",
    "settings": [
      {
        "type": "checkbox",
        "id": "show_tax_and_shipping",
        "label": "Show tax status and shipping policy link",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "show_vendor",
        "label": "Show vendor",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_sku",
        "label": "Show SKU",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "show_quantity_selector",
        "label": "Show quantity selector",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "enable_payment_button",
        "label": "Show dynamic checkout button",
        "info": "Each customer will see their preferred payment method from those available on your store, such as PayPal or Apple Pay. [Learn more](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_pickup_availability",
        "label": "Show pickup availability",
        "default": true,
        "info": "Show customers where they can pick up the product. [Learn more](https://help.shopify.com/en/manual/shipping/setting-up-and-managing-your-shipping/local-methods/local-pickup)"
      },
      {
        "type": "checkbox",
        "id": "show_backorder_text",
        "label": "Show backorder text",
        "default": true,
        "info": "Only shows for products which use Shopify inventory tracking and are available to purchase when out of stock."
      },
      {
        "type": "checkbox",
        "id": "show_inventory_notice",
        "label": "Show inventory level",
        "default": false
      },
      {
        "type": "range",
        "id": "inventory_notice_threshold",
        "min": 0,
        "max": 100,
        "step": 1,
        "label": "Inventory level threshold",
        "info": "Show inventory quantities below this threshold. Choose 0 to show full amount.",
        "default": 10
      },
      {
        "type": "checkbox",
        "id": "inventory_transfers_enable",
        "label": "Show inventory transfer notice",
        "info": "Learn how to create inventory transfers [here](https://help.shopify.com/en/manual/products/inventory/transfers/create-transfer)",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_sharing_links",
        "label": "Show social sharing icons",
        "default": true
      },
      {
        "type": "header",
        "content": "Media"
      },
      {
        "type": "paragraph",
        "content": "Learn more about [media types](https://help.shopify.com/en/manual/products/product-media)"
      },
      {
        "type": "select",
        "id": "gallery_size",
        "label": "Size",
        "options": [
          {
            "value": "small",
            "label": "Small"
          },
          {
            "value": "medium",
            "label": "Medium"
          },
          {
            "value": "large",
            "label": "Large"
          }
        ],
        "default": "medium"
      },
      {
        "type": "radio",
        "id": "prod_gall_thumbs_under",
        "label": "Thumbnail position",
        "info": "On desktop screens",
        "options": [
          {
            "value": "beside",
            "label": "Beside main image"
          },
          {
            "value": "under",
            "label": "Underneath main image"
          }
        ],
        "default": "under"
      },
      {
        "type": "checkbox",
        "id": "enable_sticky_gallery",
        "label": "Enable stick on scroll",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "enable_zoom",
        "label": "Enable image zoom",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "enable_video_looping",
        "label": "Enable video looping",
        "default": false
      },
      {
        "type": "header",
        "content": "Description"
      },
      {
        "type": "select",
        "id": "description_location",
        "label": "Location",
        "default": "beside",
        "options": [
          {
            "value": "beside",
            "label": "Beside media"
          },
          {
            "value": "accordion",
            "label": "In a tab beside media"
          },
          {
            "value": "below",
            "label": "Below media"
          }
        ]
      },
      {
        "type": "header",
        "content": "Tab content"
      },
      {
        "type": "checkbox",
        "id": "accordion_description_collapsed",
        "label": "Collapse product description tab",
        "default": false
      },
      {
        "type": "page",
        "id": "accordion_item1_page",
        "label": "Tab content 1"
      },
      {
        "type": "page",
        "id": "accordion_item2_page",
        "label": "Tab content 2"
      },
      {
        "type": "page",
        "id": "accordion_item3_page",
        "label": "Tab content 3"
      }
    ]
  }
{% endschema %}


{% if product.metafields.loox.num_reviews %}
<script id="looxSchemaJson" type="application/ld+json">
{
	"@context": "http://schema.org", 
 {{ product.metafields.alireviews.seo_rating_review_key_script }}
	"@type": "Product",
	"@id": {{ canonical_url | json }},
	"aggregateRating": {
		"@type": "AggregateRating",
		"ratingValue": "{{ product.metafields.loox.avg_rating }}",
		"reviewCount": "{{ product.metafields.loox.num_reviews }}"
	},
	"name": {{ product.title | json }}
}
</script>
{% endif %}


	<div id="looxReviews" data-product-id="{{product.id}}" class="loox-reviews-default">{{ product.metafields.loox.reviews }}</div>